(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(d,b){function c(e,g,f,h){return e.selector==g.selector&&e.context==g.context&&(!f||f.$lqguid==g.fn.$lqguid)&&(!h||h.$lqguid==g.fn2.$lqguid)}d.extend(d.fn,{livequery:function(f,h){var e=this,g;d.each(a.queries,function(k,j){if(c(e,j,f,h)){return(g=j)&&false}});g=g||new a(e.selector,e.context,f,h);g.stopped=false;g.run();return e},expire:function(f,g){var e=this;d.each(a.queries,function(j,h){if(c(e,h,f,g)&&!e.stopped){a.stop(h.id)}});return e}});var a=d.livequery=function(h,e,f,i){var g=this;g.selector=h;g.context=e;g.fn=f;g.fn2=i;g.elements=d([]);g.stopped=false;g.id=(a.queries.push(g)-1);f.$lqguid=f.$lqguid||a.guid++;if(i){i.$lqguid=i.$lqguid||a.guid++}return g};a.prototype={stop:function(){var e=this;if(e.stopped){return}if(e.fn2){e.elements.each(e.fn2)}e.elements=d([]);e.stopped=true},run:function(){var e=this;if(e.stopped){return}var h=e.elements,f=d(e.selector,e.context),g=f.not(h),i=h.not(f);e.elements=f;g.each(e.fn);if(e.fn2){i.each(e.fn2)}}};d.extend(a,{guid:0,queries:[],queue:[],running:false,timeout:null,registered:[],checkQueue:function(){if(a.running&&a.queue.length){var e=a.queue.length;while(e--){a.queries[a.queue.shift()].run()}}},pause:function(){a.running=false},play:function(){a.running=true;a.run()},registerPlugin:function(){d.each(arguments,function(f,g){if(!d.fn[g]||d.inArray(g,a.registered)>0){return}var e=d.fn[g];d.fn[g]=function(){var h=e.apply(this,arguments);a.run();return h};a.registered.push(g)})},run:function(e){if(e!==b){if(d.inArray(e,a.queue)<0){a.queue.push(e)}}else{d.each(a.queries,function(f){if(d.inArray(f,a.queue)<0){a.queue.push(f)}})}if(a.timeout){clearTimeout(a.timeout)}a.timeout=setTimeout(a.checkQueue,20)},stop:function(e){if(e!==b){a.queries[e].stop()}else{d.each(a.queries,a.prototype.stop)}}});a.registerPlugin("append","appendTo","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp");d(function(){a.play()})}));